<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Login Page</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ======================
    Global Styles
====================== */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: "Amazon Ember", Arial, sans-serif;
}

body {
  background-color: #FFFFFF;
  color: #0F1111;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

.header {
  text-align: center;
  padding: 10px 0;
}

.header img {
  width: 103px;
  margin-top: 10px;
}

.container {
  flex: 1;
  display: flex;
  justify-content: center;
  padding-top: 14px;
}

/* ======================
    Card Styles
====================== */
.card {
  width: 100%;
  max-width: 350px;
  background: #FFFFFF;
  border: 1px solid #DDD;
  border-radius: 8px;
  padding: 20px 26px;
  height: 90%;
}

h1 {
  font-size: 28px;
  font-weight: 400;
  margin-bottom: 10px;
  line-height: 1.2;
}

.step-text {
    font-size: 13px;
    margin-bottom: 10px;
}

p {
    font-size: 13px;
    line-height: 1.4;
    margin-bottom: 14px;
}

label {
  font-size: 13px;
  font-weight: 700;
  margin-bottom: 2px;
  display: block;
}

input, select {
  width: 100%;
  padding: 7px 10px;
  border: 1px solid #a6a6a6;
  border-top-color: #949494;
  border-radius: 3px;
  margin-bottom: 14px;
  outline: 0;
}

input:focus {
  border-color: #e77600;
  box-shadow: 0 0 3px 2px rgba(228,121,17,.5);
}

.phone-row {
    display: flex;
    gap: 10px;
}

.country-col { width: 35%; }
.number-col { width: 65%; }

.btn-primary {
  width: 100%;
  padding: 8px;
  background: #FFD814;
  border: 1px solid #FCD200;
  border-radius: 8px;
  font-size: 13px;
  cursor: pointer;
}

.btn-primary:hover {
  background: #F7CA00;
}

.small-text {
  font-size: 11px;
  color: #111;
  line-height: 1.5;
  margin: 18px 0;
}

.link {
  color: #007185;
  font-size: 13px;
  text-decoration: none;
}

.link:hover {
  color: #C7511F;
  text-decoration: underline;
}

hr {
  border: none;
  border-top: 1px solid #DDD;
  margin: 16px 0;
}

.footer {
  text-align: center;
  font-size: 11px;
  color: #555;
  padding: 20px 0;
  border-top: 1px solid #eee;
  margin-top: 10px;
  margin-bottom: 35vh;
}

.hidden {
  display: none;
}
</style>
</head>

<body>

<header class="header">
  <img src="/images/logo-website/logo.png" alt="Logo">
</header>

<main class="container">

  <div class="card" id="loginPage">
    <h1>Sign in or create account</h1>
    <label>Enter mobile number or email</label>
    <input type="email">
    <label>Enter password</label>
    <input type="password">
    <button class="btn-primary">Continue</button>
    <p class="small-text">By continuing, you agree to conditions.</p>
    <hr>
    <p>You want to create a new account? <a href="#" class="link" onclick="showCreateAccount()">Sign up</a></p>
  </div>

  <div class="card hidden" id="createAccountPage">
    <h1>Create account</h1>
    <label>Your name</label>
    <input type="text" placeholder="First and last name">
    <label>Mobile number or email</label>
    <input type="email" id="regEmail">
    <label>Password</label>
    <input type="password" placeholder="At least 6 characters">
    <label>Verify password</label>
    <input type="password">
    <button class="btn-primary" onclick="showAddMobile()">Continue</button>
    <hr>
    <p>Already a customer? <a href="#" class="link" onclick="showLogin()">Sign in</a></p>
  </div>

  <div class="card hidden" id="mobilePage">
    <div class="step-text">Step 1 of 2</div>
    <h1>Add mobile number</h1>
    <p>To enhance security, add and verify your mobile number.</p>
    
    <div class="phone-row">
        <div class="country-col">
            <label>Country</label>
            <select>
              <option>US +1</option>
              <option>UK +44</option>
              <option>KH +885</option>
              <option>VN +84</option>
            </select>
        </div>
        <div class="number-col">
            <label>Mobile number</label>
            <input type="text">
        </div>
    </div>
    <p class="small-text">Message and data rates may apply.</p>
    <button class="btn-primary" onclick="showVerification()">Add mobile number</button>
  </div>

  <div class="card hidden" id="verifyPage">
    <h1>Verify email address</h1>
    <p>To verify your email, we've sent a One Time Password (OTP) to <span id="displayEmail" style="font-weight: bold;"></span></p>
    <label>Enter security code</label>
    <input type="text">
    <button class="btn-primary">Verify</button>
    <a href="#" class="link">Resend code</a>
  </div>

</main>

<footer class="footer">
  <p>Â© 2025, Susu-koko.com, Inc. or its affiliates</p>
</footer>

<script>
/* Navigation Functions */
function hideAll() {
  document.getElementById("loginPage").classList.add("hidden");
  document.getElementById("createAccountPage").classList.add("hidden");
  document.getElementById("verifyPage").classList.add("hidden");
  document.getElementById("mobilePage").classList.add("hidden");
}

function showCreateAccount() { hideAll(); document.getElementById("createAccountPage").classList.remove("hidden"); }
function showLogin() { hideAll(); document.getElementById("loginPage").classList.remove("hidden"); }
function showAddMobile() { hideAll(); document.getElementById("mobilePage").classList.remove("hidden"); }

function showVerification() {
  const email = document.getElementById("regEmail").value || "your email";
  document.getElementById("displayEmail").innerText = email;
  hideAll();
  document.getElementById("verifyPage").classList.remove("hidden");
}

/* --- Validation Logic --- */
function updateUI(inputElement, isValid) {
  let msg = inputElement.nextElementSibling;
  // Create message div dynamically since we cannot change HTML
  if (!msg || !msg.classList.contains('status-msg')) {
    msg = document.createElement('div');
    msg.classList.add('status-msg');
    msg.style.fontSize = "11px";
    msg.style.fontWeight = "bold";
    msg.style.marginBottom = "10px";
    msg.style.marginTop = "-10px";
    inputElement.parentNode.insertBefore(msg, inputElement.nextSibling);
  }

  if (isValid) {
    msg.innerText = "Correct";
    msg.style.color = "#008a00"; // Green
    msg.classList.add('correct');
    msg.classList.remove('incorrect');
  } else {
    msg.innerText = "Incorrect";
    msg.style.color = "#c40000"; // Red
    msg.classList.add('incorrect');
    msg.classList.remove('correct');
  }
}

document.addEventListener("DOMContentLoaded", function() {
  // Select Registration Inputs by Order
  const regCard = document.getElementById("createAccountPage");
  const regInputs = regCard.querySelectorAll("input");
  
  const nameInp = regInputs[0];
  const emailInp = regInputs[1]; // has id="regEmail"
  const passInp = regInputs[2];
  const verifyInp = regInputs[3];

  // Add Real-time Validation Triggers
  nameInp.addEventListener("input", () => updateUI(nameInp, nameInp.value.trim().length >= 3));
  emailInp.addEventListener("input", () => {
    const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    updateUI(emailInp, regex.test(emailInp.value));
  });
  passInp.addEventListener("input", () => updateUI(passInp, passInp.value.length >= 6));
  verifyInp.addEventListener("input", () => updateUI(verifyInp, verifyInp.value === passInp.value && verifyInp.value !== ""));

  // Override the "Continue" button behavior
  const continueBtn = regCard.querySelector(".btn-primary");
  continueBtn.onclick = function() {
    // Run all validations once
    const nameValid = nameInp.value.trim().length >= 3;
    const emailValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailInp.value);
    const passValid = passInp.value.length >= 6;
    const verifyValid = verifyInp.value === passInp.value && verifyInp.value !== "";

    updateUI(nameInp, nameValid);
    updateUI(emailInp, emailValid);
    updateUI(passInp, passValid);
    updateUI(verifyInp, verifyValid);

    if (nameValid && emailValid && passValid && verifyValid) {
      showAddMobile();
    } else {
      alert("Please!! creaete your account.");
    }
  };

  /* --- Login Logic --- */
  const loginBtn = document.querySelector("#loginPage .btn-primary");
  if (loginBtn) {
    loginBtn.addEventListener("click", function() {
      const loginInputs = document.querySelectorAll("#loginPage input");
      const emailLog = loginInputs[0];
      const passLog = loginInputs[1];

      if (emailLog.value.trim() === "" || passLog.value.trim() === "") {
        alert("Please enter your email and password");
      } else {
        localStorage.setItem("userEmail", emailLog.value);
        localStorage.setItem("userPassword", passLog.value);
        window.location.href = "../index.html";
      }
    });
  }
});

/* --- VERIFICATION PAGE LOGIC WITH 30s DELAY --- */

let generatedCode = ""; 

const originalShowVerification = showVerification;

showVerification = function() {
  
    originalShowVerification();
    
    // Generate a 6-digit code
    generatedCode = Math.floor(100000 + Math.random() * 900000).toString();
    
    // Set a timer for 30 seconds (3000 milliseconds)
    setTimeout(function() {
        alert("This is your verify code: " + generatedCode);
    }, 3000); 
};

document.addEventListener("DOMContentLoaded", function() {
    // 2. Select the "Verify" button and the OTP input field inside verifyPage
    const verifyCard = document.getElementById("verifyPage");
    const verifyBtn = verifyCard.querySelector(".btn-primary");
    const otpInput = verifyCard.querySelector("input");

    if (verifyBtn) {
        verifyBtn.addEventListener("click", function() {
            const enteredCode = otpInput.value.trim();

            if (enteredCode === "") {
                alert("Please enter the security code");
            } else if (enteredCode === generatedCode) {
                // Success
                alert("Verification Successful!");
                window.location.href = "../index.html";
            } else {
                // Wrong code
                alert("Incorrect code. Please check your security codeand try again.");
            }
        });
    }
});
</script>

</body>
</html>